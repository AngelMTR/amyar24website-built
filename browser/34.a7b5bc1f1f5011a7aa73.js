(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{VNTg:function(t,e,i){"use strict";i.r(e),i.d(e,"WeblogDetailComponentModule",(function(){return P}));var o=i("DUip"),a=i("TYT/"),n=i("K9Ld"),s=i("Valr"),l=i("oCjk"),r=i("3paq"),c=i("SyyL"),p=i("uOF2"),d=i("5ghV"),b=i("o8Qb"),m=i("7zmE");function g(t,e){if(1&t){var i=a.Vb();a.Ub(0,"div",8),a.Ub(1,"div",9),a.Pb(2,"img",10),a.Ub(3,"h1",11),a.Gc(4),a.Tb(),a.Tb(),a.Ub(5,"div",12),a.Ub(6,"div",13),a.Pb(7,"img",14),a.Ub(8,"span"),a.Gc(9),a.hc(10,"day_jalali"),a.Tb(),a.Tb(),a.Ub(11,"div",15),a.Pb(12,"img",16),a.hc(13,"translate"),a.Ub(14,"span"),a.Gc(15),a.hc(16,"translate"),a.Tb(),a.Tb(),a.Ub(17,"div"),a.Ub(18,"a",17),a.cc("click",(function(){return a.yc(i),a.gc().like()})),a.Pb(19,"img",18),a.Tb(),a.Ub(20,"span"),a.Gc(21),a.Tb(),a.Tb(),a.Tb(),a.Pb(22,"img",19),a.Pb(23,"p",20),a.Pb(24,"p",21),a.hc(25,"safeHtml"),a.Pb(26,"am-share",22),a.Tb()}if(2&t){var o=a.gc();a.Bb(2),a.oc("alt","\u062c\u0647\u062a-",o.post.title,"-\u0622\u0645\u06cc\u0627\u063124"),a.oc("title","\u062c\u0647\u062a-",o.post.title,""),a.Bb(2),a.Hc(o.post.title),a.Bb(3),a.oc("alt","\u0622\u0645\u06cc\u0627\u063124-\u062a\u0627\u0631\u06cc\u062e \u0645\u0637\u0644\u0628-",o.post.title,""),a.oc("title","\u062a\u0627\u0631\u06cc\u062e \u0645\u0637\u0644\u0628-",o.post.title,""),a.Bb(2),a.Hc(a.ic(10,20,o.post.insertedDate)),a.Bb(3),a.oc("alt","\u0622\u0645\u06cc\u0627\u063124-\u062a\u0639\u062f\u0627\u062f \u0646\u0645\u0627\u06cc\u0634-",o.post.title,""),a.pc("title","",a.ic(13,22,"VISIT"),"-",o.post.title,""),a.Bb(3),a.Jc("",o.post.view,"\xa0",a.ic(16,24,"VISIT"),""),a.Bb(4),a.oc("alt","\u0622\u0645\u06cc\u0627\u063124-\u067e\u0633\u0646\u062f\u06cc\u062f\u0647-",o.post.title,""),a.oc("title","\u067e\u0633\u0646\u062f\u06cc\u062f\u0647-",o.post.title,""),a.Bb(2),a.Ic("",o.post.like,"+"),a.Bb(1),a.oc("alt","",o.post.title,"-\u0622\u0645\u06cc\u0627\u063124-\u0645\u0637\u0644\u0628"),a.nc("title",o.post.title),a.mc("lazyLoad",o.post.headerPic||o.post.pic),a.Bb(1),a.mc("innerHTML",o.post.metadata,a.zc),a.Bb(1),a.mc("innerHTML",a.ic(25,26,o.post.message),a.zc),a.Bb(2),a.mc("url",o.url)}}function u(t,e){if(1&t&&(a.Ub(0,"div",23),a.Ub(1,"a",24),a.Pb(2,"img",25),a.Ub(3,"div"),a.Ub(4,"h3",26),a.Gc(5),a.Tb(),a.Ub(6,"p",27),a.Gc(7),a.hc(8,"truncate"),a.Tb(),a.Ub(9,"span",28),a.Gc(10),a.hc(11,"day_jalali"),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t){var i=e.$implicit;a.Bb(1),a.nc("href","/blog/"+i.id,a.Ac),a.Bb(1),a.oc("alt","",i.title,"-\u0645\u0637\u0627\u0644\u0628-\u0622\u0645\u06cc\u0627\u063124"),a.oc("title","",i.title,"-\u0645\u0637\u0627\u0644\u0628-\u0622\u0645\u06cc\u0627\u063124"),a.mc("lazyLoad",i.thumbPic||i.pic),a.Bb(3),a.Ic("",i.title," "),a.Bb(2),a.Ic(" ",a.jc(8,7,i.metadata,65),""),a.Bb(3),a.Hc(a.ic(11,10,i.insertedDate))}}var f=function(){function t(t,e,i,o,a,n){var l=this;this.platformId=t,this.document=e,this.router=i,this.postService=o,this.activatedRoute=a,this.jsonldService=n,this.postList=[],this.activatedRoute.data.subscribe((function(t){t&&t.postData&&(Object(s.q)(l.platformId)&&(t.postData.postDetail.isLiked="1"===localStorage.getItem("like_blog"+t.postData.postDetail.id),t.postData.postDetail.isViewed="1"===localStorage.getItem("view_blog"+t.postData.postDetail.id)),l.initPostDetail(t.postData.postDetail),l.postList=t.postData.postList,l.addJsonld(t.postData.postDetail))}))}return t.prototype.ngOnInit=function(){this.url=r.a.DOMAIN+this.router.url},t.prototype.increaseView=function(){var t=this;this.post.isViewed||this.postService.increaseView(this.post.id).subscribe((function(){t.post.isViewed=!0,Object(s.q)(t.platformId)&&localStorage.setItem("view_blog"+t.post.id,"1")}))},t.prototype.like=function(){var t=this;this.post.isLiked||this.postService.like(this.post.id).subscribe((function(){t.post.like++,t.post.isLiked=!0,Object(s.q)(t.platformId)&&localStorage.setItem("like_blog"+t.post.id,"1")}))},t.prototype.getPostUrl=function(){return this.document.location.href},t.prototype.initPostDetail=function(t){t.message=l.a.removeStyleAttr(t.message),this.post=t,this.post&&this.increaseView()},t.prototype.refreshCode=function(){this.securityCode=l.a.generateCode(4)},t.prototype.trackById=function(t,e){return e.id},t.prototype.addJsonld=function(t){var e='\n    {\n      "@context":"http://schema.org",\n      "@type":"BlogPosting",\n      "headline": "'+t.title+'",\n      "datePublished": "'+t.insertedDate+'",\n      "dateModified" : "'+t.insertedDate+'",\n      "description" : "'+t.metadata+'",\n      "url" : "'+(r.a.DOMAIN+this.router.url)+'",\n      "mainEntityOfPage" : "'+(r.a.DOMAIN+this.router.url)+'",\n      "keywords": "'+t.tags.replace(/\s+\u060c\s+/g,",")+'",\n      "isAccessibleForFree": true,\n      "isFamilyFriendly": true,\n      "image": ["'+(t.headerPic||t.pic)+'"],\n      "publisher": \n            {\n              "@type": "Organization",\n              "name": "\u0622\u0645\u06cc\u0627\u063124",\n              "@id": "'+r.a.DOMAIN+'",\n              "logo" : {\n              "@type": "ImageObject",\n              "contentUrl": "'+r.a.DOMAIN+'/assets/images/logo.png",\n              "description": "amyar24 logo",\n              "name": "\u0622\u0645\u06cc\u0627\u063124",\n              "url" : "'+r.a.DOMAIN+'/assets/images/logo.png"\n            } \n      },\n       "author" : {\n              "@type": "Organization",\n              "name": "\u0622\u0645\u06cc\u0627\u063124",\n              "@id": "'+r.a.DOMAIN+'",\n              "logo" : {\n              "@type": "ImageObject",\n              "contentUrl": "'+r.a.DOMAIN+'/assets/images/logo.png",\n              "description": "amyar24 logo",\n              "name": "\u0622\u0645\u06cc\u0627\u063124",\n              "url" : "'+r.a.DOMAIN+'/assets/images/logo.png"\n            }   \n      }\n    }';this.jsonldService.addJsonld(e,"post-detail")},t.\u0275fac=function(e){return new(e||t)(a.Ob(a.B),a.Ob(s.c),a.Ob(o.c),a.Ob(n.a),a.Ob(o.a),a.Ob(c.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-weblog-detail"]],features:[a.Ab([n.a])],decls:10,vars:8,consts:[[1,"container","p-md-0","mt-5"],[1,"row"],["class","col-md-9 col-xs-12 pl-md-4 pr-0","id","post",4,"ngIf"],["id","cln-left",1,"col-md-3","col-xs-12","pr-md-4"],[1,"d-flex","align-items-center","my-4"],["lazyLoad","assets/images/weblog/caret-left.png",3,"alt","title"],[1,"f-24","font-semibold","text-grey"],["class","my-5 pb-4",4,"ngFor","ngForOf","ngForTrackBy"],["id","post",1,"col-md-9","col-xs-12","pl-md-4","pr-0"],[1,"d-flex","align-items-center"],["id","main-img","lazyLoad","assets/images/weblog/caret-left.png",3,"alt","title"],[1,"font-semibold","text-grey","f-18"],[1,"d-flex","f-15","text-grey","align-items-center","mb-4"],[1,"ml-4","ml-md-5"],["lazyLoad","assets/images/weblog/time.svg",1,"detail-icon",3,"alt","title"],[1,"ml-4","ml-md-5","d-flex"],["lazyLoad","assets/images/weblog/view.svg",1,"detail-icon",3,"alt","title"],[1,"pointer",3,"click"],["lazyLoad","assets/images/weblog/like.svg",1,"detail-icon",3,"alt","title"],[1,"grey-border","w-100","mt-3",3,"lazyLoad","alt","title"],[1,"text-justify","card-titr","my-3","my-sm-5","font-semibold","f-17",3,"innerHTML"],["id","content",3,"innerHTML"],[1,"my-5",3,"url"],[1,"my-5","pb-4"],["routerLinkActive","router-link-active",3,"href"],["width","90%","height","150px",1,"thin-grey-border","mb-10",3,"lazyLoad","alt","title"],[1,"font-semibold","f-16","text-justify","mt-2"],[1,"f-14","text-grey","mb-0","text-justify"],[1,"f-12","text-pink","mt-0","float-left"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ec(2,g,27,28,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Pb(5,"img",5),a.Ub(6,"h4",6),a.Gc(7),a.hc(8,"translate"),a.Tb(),a.Tb(),a.Ec(9,u,12,12,"div",7),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Bb(2),a.mc("ngIf",e.post&&e.post.id),a.Bb(3),a.oc("alt","\u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0622\u0645\u06cc\u0627\u0631-",e.post.title,"-\u0622\u0645\u06cc\u0627\u063124"),a.oc("title","\u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0622\u0645\u06cc\u0627\u0631-",e.post.title,""),a.Bb(2),a.Hc(a.ic(8,6,"AMYARSUGGESTED")),a.Bb(2),a.mc("ngForOf",e.postList)("ngForTrackBy",e.trackById))},directives:[s.k,p.a,s.j,d.a,o.d],pipes:[b.c,m.a,m.d,m.e],styles:["app-weblog-detail #cln-left{border-right:1px solid #bbb}app-weblog-detail .main-img{max-height:500px}app-weblog-detail .detail-icon{height:20px;margin-left:3px}app-weblog-detail #content p{color:#626262;font-family:diodrum-medium!important;text-align:justify!important}app-weblog-detail #content img{margin-right:0!important;border:1px solid #626262;cursor:pointer}@media (max-width:540px){app-weblog-detail #content img{width:90%}}app-weblog-detail #content h1,app-weblog-detail #content h2,app-weblog-detail #content h3,app-weblog-detail #content h4,app-weblog-detail #content h5,app-weblog-detail #content h6{font-family:diodrum-semibold!important}"],encapsulation:2}),t}(),h=i("d2mR"),y=i("VNr4"),v=i("6blF"),w=i("67Y/"),I=i("Hf9I"),D=function(){function t(t,e){this.postService=t,this.dataSharingService=e,this.postCount=0}return t.prototype.resolve=function(t,e){var i=this,o=parseInt(t.params.id);return Object(y.a)(this.postService.getPost(o),this.getRecommendedPostList(o)).pipe(Object(w.a)((function(t){return t[0]=l.a.addSotragePathInFirst(t[0],"headerPic"),i.dataSharingService.setMetaData(i.initMeta(t[0])),{postDetail:t[0],postList:t[1]}})))},t.prototype.initMeta=function(t){var e={};return e.pageTitle=t.title+"-\u0648\u0628\u0644\u0627\u06af \u0622\u0645\u06cc\u0627\u063124",e.title=t.title,e.card="summary_large_image",e.image=t.headerPic||t.pic,e.tags=t.tags,e.description=t.metadata,e},t.prototype.getRecommendedPostList=function(t){var e=this;return new v.a((function(i){e.postService.getPostRecommend(t).subscribe((function(t){e.initPostResult(t),i.next(t),i.complete()}))}))},t.prototype.initPostResult=function(t){t&&(t=l.a.addSotragePathInFirstForList(t,"thumbPic"))},t.\u0275fac=function(e){return new(e||t)(a.Yb(n.a),a.Yb(I.a))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac}),t}(),T=[{path:"",component:f,resolve:{postData:D}}],P=function(){function t(){}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},providers:[n.a,D],imports:[[o.f.forChild(T),h.a]]}),t}()}}]);