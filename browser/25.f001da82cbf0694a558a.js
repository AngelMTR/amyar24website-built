(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{bsRj:function(e,t,o){"use strict";o.r(t),o.d(t,"ForumDetailComponentModule",(function(){return S}));var a=o("DUip"),i=o("lSG2"),r=o("YQa4"),n=o("oCjk"),s=o("SyyL"),c=o("TYT/"),d=o("Valr"),u=o("ILr+"),b=o("7zmE"),f=o("o8Qb");function g(e,t){if(1&e&&(c.Ub(0,"a"),c.Ub(1,"span",6),c.Gc(2),c.Tb(),c.Tb()),2&e){var o=t.$implicit;c.Bb(2),c.Hc(o)}}function l(e,t){if(1&e&&(c.Ub(0,"div",11),c.Pb(1,"img",12),c.Ub(2,"div",13),c.Gc(3),c.Tb(),c.Tb()),2&e){var o=c.gc(3);c.Bb(3),c.Hc((null==o.questionItem.customer?null:o.questionItem.customer.firstName)+" "+(null==o.questionItem.customer?null:o.questionItem.customer.lastName))}}function m(e,t){if(1&e&&(c.Ub(0,"div",11),c.Pb(1,"img",14),c.Ub(2,"div",15),c.Gc(3),c.Tb(),c.Ub(4,"div",16),c.Gc(5),c.hc(6,"translate"),c.Tb(),c.Tb()),2&e){var o=c.gc(3);c.Bb(1),c.mc("src",o.questionItem.servitor.imgPath,c.Ac),c.Bb(2),c.Hc((null==o.questionItem.servitor?null:o.questionItem.servitor.firstName)+" "+(null==o.questionItem.servitor?null:o.questionItem.servitor.lastName)),c.Bb(2),c.Ic("(",c.ic(6,3,"CONSULTANT"),")")}}function p(e,t){if(1&e&&(c.Ub(0,"div",7),c.Ub(1,"div",8),c.Ec(2,l,4,1,"div",9),c.Ec(3,m,7,5,"div",9),c.Ub(4,"p"),c.Gc(5),c.Tb(),c.Tb(),c.Ub(6,"div",10),c.Gc(7),c.hc(8,"day_jalali"),c.Tb(),c.Tb()),2&e){var o=t.$implicit;c.Bb(2),c.mc("ngIf",0===o.Direction),c.Bb(1),c.mc("ngIf",1===o.Direction),c.Bb(2),c.Hc(o.Message),c.Bb(2),c.Hc(c.ic(8,4,o.insertedDate))}}function h(e,t){if(1&e){var o=c.Vb();c.Ub(0,"am-question",17),c.cc("submit",(function(e){return c.yc(o),c.gc(2).addReply(e)})),c.Tb()}2&e&&c.mc("isTitle",!1)}function v(e,t){if(1&e&&(c.Ub(0,"div"),c.Ub(1,"h1",1),c.Gc(2),c.Tb(),c.Ub(3,"div",2),c.Ec(4,g,3,1,"a",3),c.Tb(),c.Ec(5,p,9,6,"div",4),c.Ec(6,h,1,1,"am-question",5),c.Tb()),2&e){var o=c.gc();c.Bb(2),c.Hc(o.questionItem.Title),c.Bb(2),c.mc("ngForOf",o.questionItem.tagList),c.Bb(1),c.mc("ngForOf",o.questionItem.chats),c.Bb(1),c.mc("ngIf",o.isCurrentUser&&o.questionItem&&!o.questionItem.isClosed)}}var I=function(){function e(e,t,o,a,i,r){var n=this;this.router=e,this.activatedRoute=t,this.ref=o,this.forumService=a,this.userService=i,this.jsonldService=r,this.isCurrentUser=!1,this.activatedRoute.data.subscribe((function(e){e&&e.data&&(n.initForumDetail(e.data.forum),n.addJsonld(e.data.forum))}))}return e.prototype.ngOnInit=function(){},e.prototype.initForumDetail=function(e){this.questionItem=e,this.questionItem.tagList=this.questionItem.tags.split(","),this.questionItem.chats=this.questionItem.chats?this.questionItem.chats:[],this.questionItem.chats.unshift({Message:this.questionItem.Message,insertedDate:this.questionItem.insertedDate,Direction:0}),n.a.addSotragePathInFirst(this.questionItem.servitor,"imgPath"),this.isPermissionReply()},e.prototype.getForum=function(e){var t=this;this.forumService.get(e).subscribe((function(e){t.initForumDetail(e)}))},e.prototype.addReply=function(e){var t=this;e.consultRequisiteId=this.questionItem.id,e.Direction=0,this.forumService.addReply(this.questionItem.id,e).subscribe((function(e){t.getForum(t.questionItem.id)}))},e.prototype.isPermissionReply=function(){var e=this;this.userService.getUser().then((function(t){e.isCurrentUser=t.id===e.questionItem.customerId,e.ref.detectChanges()}))},e.prototype.addJsonld=function(e){this.jsonldService.addJsonld('\n    {\n      "@context":"http://schema.org",\n      "@type":"QAPage",\n      "name":"'+e.Title+'",\n      "mainEntity":\n      {\n        "@type":"Question",\n        "name":"'+e.Title+'",\n        "text":"'+e.Message+'",\n        "upvoteCount":0,\n        "answerCount":'+e.countChat+',\n        "dateCreated":"'+e.insertedDate+'",\n        "author":{\n          "@type":"Person",\n          "name":"'+e.customer.firstName+" "+e.customer.lastName+'"\n        }\n      }\n    }\n    ',"forum-detail")},e.\u0275fac=function(t){return new(t||e)(c.Ob(a.c),c.Ob(a.a),c.Ob(c.h),c.Ob(i.a),c.Ob(r.a),c.Ob(s.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-forum-detail"]],features:[c.Ab([i.a])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"font-weight-bold","mb-0","pb-0"],[1,"tags"],[4,"ngFor","ngForOf"],["class","answer",4,"ngFor","ngForOf"],["class","my-5",3,"isTitle","submit",4,"ngIf"],[1,"badge","badge-success"],[1,"answer"],[1,"d-flex"],["class","text-center ml-3 ml-sm-5",4,"ngIf"],[1,"date"],[1,"text-center","ml-3","ml-sm-5"],["src","assets/images/avatar.png",1,"avatar"],[1,"text-center"],[1,"avatar","rounded-circle",3,"src"],[1,"text-pink"],[1,"f-12","text-pink","text-center"],[1,"my-5",3,"isTitle","submit"]],template:function(e,t){1&e&&c.Ec(0,v,7,4,"div",0),2&e&&c.mc("ngIf",t.questionItem&&t.questionItem.id)},directives:[d.k,d.j,u.a],pipes:[b.a,f.c],styles:[".badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:focus,a.badge:hover{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}a.badge-light.focus,a.badge-light:focus{outline:0;box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:focus,a.badge-dark:hover{color:#fff;background-color:#1d2124}a.badge-dark.focus,a.badge-dark:focus{outline:0;box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}app-forum-detail #questionBody{white-space:pre-line;border-bottom:1px solid #d3d3d3;padding-bottom:15px;color:#0070b8}app-forum-detail .tags{padding-right:10px;padding-left:10px}app-forum-detail .tags a{margin-left:5px}app-forum-detail .answer{padding:15px 0;border-bottom:1px solid #d3d3d3;white-space:pre-line}app-forum-detail .answer img.avatar{width:64px!important;height:64px!important}app-forum-detail .date{text-align:left;font-size:12px;color:grey}"],encapsulation:2}),e}(),y=o("VNr4"),w=o("67Y/"),q=o("Hf9I"),x=function(){function e(e,t){this.forumService=e,this.dataSharingService=t}return e.prototype.resolve=function(e,t){var o=this,a=parseInt(e.params.id);return Object(y.a)(this.forumService.get(a)).pipe(Object(w.a)((function(e){return o.dataSharingService.setMetaData(o.initMeta(e[0])),{forum:e[0]}})))},e.prototype.initMeta=function(e){var t={};return t.pageTitle=e.Title+" | \u0645\u0634\u0627\u0648\u0631\u0647 \u0641\u0646\u06cc",t.title=e.Title,t.tags=e.tags,t.description=e.Message,t},e.\u0275fac=function(t){return new(t||e)(c.Yb(i.a),c.Yb(q.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac}),e}(),k=o("d2mR"),T=o("gxaS"),U=[{path:"",component:I,resolve:{data:x}}],S=function(){function e(){}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},providers:[x],imports:[[a.f.forChild(U),k.a,T.a]]}),e}()}}]);